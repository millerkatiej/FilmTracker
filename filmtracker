#!/usr/bin/env ruby

require 'optparse'

command = ARGV[0]
name = ARGV[1]
options = {}

OptionParser.new do |opts|
  opts.banner = "Usage: filmtracker [command] [options]"

  opts.on("--title [TITLE]", "The title") do |title|
    options[:title] = title
  end

  opts.on("--director [DIRECTOR]", "The director") do |director|
    options[:director] = director
  end
end.parse!

if name.nil? or name.empty?
  puts "You must provide the information about the film you are adding."
  exit
end

missing_things = []
missing_things << "title" unless options[:title]
missing_things << "director" unless options[:director]
unless missing_things.empty?
  puts "You must provide the #{missing_things.join(" and ")} of the film you are adding."
  exit
end

puts "Theoretically creating: a film titled #{name}, by director #{options[:director]}"
